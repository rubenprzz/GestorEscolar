<div class="card">
  <form [formGroup]="alumnoForm" (ngSubmit)="onSubmit()">
    <!-- Nombre -->
    <div class="p-inputgroup">
      <span class="p-inputgroup-addon">
        <i class="pi pi-user"></i>
      </span>
      <input
        pInputText
        placeholder="Nombre"
        formControlName="nombre"
        [ngClass]="{'ng-invalid': isFieldInvalid('nombre')}"
      />
    </div>
    <small *ngIf="isFieldInvalid('nombre')" class="p-error">Nombre es obligatorio.</small>

    <!-- Apellidos -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-user"></i>
      </span>
      <input
        pInputText
        placeholder="Apellidos"
        formControlName="apellidos"
        [ngClass]="{'ng-invalid': isFieldInvalid('apellidos')}"
      />
    </div>
    <small *ngIf="isFieldInvalid('apellidos')" class="p-error">Apellidos son obligatorios.</small>

    <!-- DNI -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-id-card"></i>
      </span>
      <input
        pInputText
        placeholder="DNI"
        formControlName="dni"
        [ngClass]="{'ng-invalid': isFieldInvalid('dni')}"
      />
    </div>
    <small *ngIf="isFieldInvalid('dni')" class="p-error">DNI es obligatorio.</small>

    <!-- Fecha de Nacimiento -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-calendar"></i>
      </span>
      <p-calendar
        formControlName="fechaNacimiento"
        placeholder="Fecha de Nacimiento"
        showIcon="true"
        dateFormat="dd/mm/yy"
      ></p-calendar>
    </div>
    <small *ngIf="isFieldInvalid('fechaNacimiento')" class="p-error">
      Fecha de nacimiento es obligatoria.
    </small>

    <!-- Email -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-envelope"></i>
      </span>
      <input
        pInputText
        placeholder="Email"
        formControlName="email"
        [ngClass]="{'ng-invalid': isFieldInvalid('email')}"
      />
    </div>
    <small *ngIf="isFieldInvalid('email')" class="p-error">Email es obligatorio.</small>

    <!-- Teléfono -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-phone"></i>
      </span>
      <input
        pInputText
        placeholder="Teléfono (Opcional)"
        formControlName="telefono"
      />
    </div>

    <!-- Foto -->
    <!-- Foto -->
    <div class="p-inputgroup mt-3">
  <span class="p-inputgroup-addon">
    <i class="pi pi-image"></i>
  </span>
      <input
        type="file"
        formControlName="foto"
        (change)="onFileChange($event)"
        placeholder="Subir Foto"
      />
    </div>
    <small *ngIf="isFieldInvalid('foto')" class="p-error">Foto es obligatoria.</small>

    <!-- Curso -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-book"></i>
      </span>
      <p-dropdown
        formControlName="cursoNombre"
        [options]="cursos"
        optionLabel="nombre"
        placeholder="Selecciona un curso"
        class="p-fluid"
      ></p-dropdown>

    </div>
    <small *ngIf="isFieldInvalid('cursoNombre')" class="p-error">
      Nombre del curso es obligatorio.
    </small>

    <!-- DNIs de los Padres -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-users"></i>
      </span>
      <input
        pInputText
        placeholder="DNI de los Padres (separados por comas)"
        formControlName="padresDnis"
      />
    </div>

    <!-- Botón de Enviar -->
    <div class="mt-4">
      <p-button
        label="Crear Alumno"
        [text]="true"
        [raised]="true"
        [disabled]="alumnoForm.invalid"
        (click)="onSubmit()"
      />
    </div>

  </form>
</div>

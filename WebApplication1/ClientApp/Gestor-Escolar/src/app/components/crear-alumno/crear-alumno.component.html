<div class="card">
  <form [formGroup]="alumnoForm" (ngSubmit)="onSubmit()">
    <!-- Nombre -->
    <div class="p-inputgroup">
      <span class="p-inputgroup-addon">
        <i class="pi pi-user"></i>
      </span>
      <input
        pInputText
        placeholder="Nombre"
        formControlName="nombre"
        [ngClass]="{'ng-invalid': isFieldInvalid('nombre')}"
      />
    </div>
    <small *ngIf="isFieldInvalid('nombre')" class="p-error">Nombre es obligatorio.</small>

    <!-- Apellidos -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-user"></i>
      </span>
      <input
        pInputText
        placeholder="Apellidos"
        formControlName="apellidos"
        [ngClass]="{'ng-invalid': isFieldInvalid('apellidos')}"
      />
    </div>
    <small *ngIf="isFieldInvalid('apellidos')" class="p-error">Apellidos son obligatorios.</small>

    <!-- DNI -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-id-card"></i>
      </span>
      <input
        pInputText
        placeholder="DNI"
        formControlName="dni"
        [ngClass]="{'ng-invalid': isFieldInvalid('dni')}"
      />
    </div>
    <small *ngIf="isFieldInvalid('dni')" class="p-error">DNI es obligatorio.</small>

    <!-- Fecha de Nacimiento -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-calendar"></i>
      </span>
      <p-calendar
        formControlName="fechaNacimiento"
        placeholder="Fecha de Nacimiento"
        showIcon="true"
        dateFormat="dd/mm/yy"
      ></p-calendar>
    </div>
    <small *ngIf="isFieldInvalid('fechaNacimiento')" class="p-error">
      Fecha de nacimiento es obligatoria.
    </small>

    <!-- Email -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-envelope"></i>
      </span>
      <input
        pInputText
        placeholder="Email"
        formControlName="email"
        [ngClass]="{'ng-invalid': isFieldInvalid('email')}"
      />
    </div>
    <small *ngIf="isFieldInvalid('email')" class="p-error">Email es obligatorio.</small>

    <!-- Teléfono -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-phone"></i>
      </span>
      <input
        pInputText
        placeholder="Teléfono"
        formControlName="telefono"
      />
    </div>
    <small *ngIf="isFieldInvalid('telefono')" class="p-error">El telefono es obligatorio.</small>

    <!-- Foto -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-image"></i>
      </span>
      <p-fileUpload
        mode="basic"
        chooseLabel="Subir Foto"
        chooseIcon="pi pi-upload"
        name="foto"
        accept="image/*"
        maxFileSize="1000000"
        (onSelect)="onFileChange($event)"
        [auto]="false">
      </p-fileUpload>
    </div>
    <small *ngIf="isFieldInvalid('foto')" class="p-error">La foto es obligatoria.</small>

    <!-- Curso -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-book"></i>
      </span>
      <p-dropdown
        class="p-dropdown-select"
        [options]="cursos"
        optionLabel="nombre"
        optionValue="nombre"
        formControlName="cursoNombre"
        placeholder="Selecciona un curso">
      </p-dropdown>
    </div>
    <small *ngIf="isFieldInvalid('cursoNombre')" class="p-error">
      Nombre del curso es obligatorio.
    </small>

    <!-- DNIs de los Padres -->
    <div class="p-inputgroup mt-3">
      <span class="p-inputgroup-addon">
        <i class="pi pi-users"></i>
      </span>
      <input
        pInputText
        placeholder="DNI de los Padres (separados por comas)"
        formControlName="padresDnis"
      />
    </div>

    <!-- Botón de Enviar -->
    <div class="mt-4">
      <p-button
        label="Crear Alumno"
        [text]="true"
        [raised]="true"
        [disabled]="alumnoForm.invalid"
        (click)="onSubmit()"
      ></p-button>
    </div>
  </form>
</div>
